<div class="wrap" ng-click="main.resetTimer()">
    <div class="nav-bar">
        <div class="hero-title">Bloc Chat</div>

        <div class="loggedin-user">{{main.welcome}}{{main.currentUsername}}</div>
        <div class="sign-out" ng-click="main.signOut()">sign out</div>
        <button class="new-room-button" type="button" ng-click="main.openNewRoomModal()">New room</button>
        <div class="public-rooms" ng-click="main.setPublicRooms()">{{main.publicRoomsFolder}}</div>
        <ul class="rooms-list" ng-hide="main.hidePublicRooms">
            <li class="room-name" ng-repeat="item in main.publicRoomArray track by $index" ng-click="main.setCurrentRoom(item.name, item.$id, false)">
                  {{item.name}} <a class="delete-icon" title="You can delete a room only if you are the ower of that room" ng-show="item.founder==main.currentUserId" ng-click="main.deletePublicRoom(item.$id)"><span class="ion-trash-b"></span></a>
            </li>
        </ul>
        <div class="private-rooms" ng-click="main.setPrivateRooms()">{{main.privateRoomsFolder}}</div>
        <ul class="rooms-list" ng-hide="main.hidePrivateRooms">
            <li class="room-name" ng-repeat="item in main.privateRoomArray track by $index" ng-click="main.setCurrentRoom(item.roomname, item.$id, true)">
                  <span class=room-name-box>{{item.roomname}}</span> <a class="delete-icon" title="You can delete a room only if you are the ower of that room" ng-show="main.getRoomFounder(item.$id)==main.currentUserId"  ng-click="main.deletePrivateRoom(item.$id)"><span class="ion-trash-b"></span></a><input class="invite-button" type="button" name="" value="Invite" ng-click="main.openPrivateRoomModal(item.$id, item.roomname)">
            </li>
        </ul>
    </div>

    <div class="room-view" >
      <div class="room-title">{{main.currentRoomTitle}}</div>
      <ul scroll-glue class="messages-list">
          <li class="message" ng-repeat="message in main.messageArray track by $index">
              <div class="message-username" ng-hide="message.userid==main.currentUserId">{{message.username}}</div>
              <div class="message-list-content" ng-style="main.messageStyle(message.userid)" ng-hide="message.username=='' && message.userid==main.currentUserId">
              {{message.content}}<div class="message-time">{{message.sentAt}}</div></div>
          </li>
      </ul>
      <form class="message-form" ng-submit="main.sendMessage()">
          <input type="text" class="message-input" placeholder="Write your message here..." ng-model="main.message" ng-change="main.typingPopup()">
          <input type="submit" class="button-sendmessage" value="Send">
      </form>
    </div>

    <div class="user-view">
      <div class="user-view-title">Users in&nbsp;{{main.currentPrivateRoom}}</div>
      <ul class="user-list">
          <li class="user-name" ng-repeat="user in main.userArray | orderBy: 'online':true" ng-show="main.checkProomMember(user)">
              <span class="user-list">{{user.username}}&nbsp;</span><span ng-show="user.$id==main.currentUserId">(you)</span>
              <a class="online-icon" ng-show="user.online"><span class="ion-checkmark-circled" title="online"></span></a>
              <a class="offline-icon" ng-show="!user.online"><span class="ion-close-circled" title="offline"></span></a>
          </li>
      </ul>
      <div class="user-view-title">All users</div>
      <ul class="user-list">
          <li class="user-name" ng-repeat="user in main.userArray | orderBy: 'online':true">
              <span class="user-list">{{user.username}}&nbsp;</span><span ng-show="user.$id==main.currentUserId">(you)</span>
              <a class="online-icon" ng-show="user.online"><span class="ion-checkmark-circled" title="online"></span></a>
              <a class="offline-icon" ng-show="!user.online"><span class="ion-close-circled" title="offline"></span></a>
          </li>
      </ul>
    </div>
</div>
